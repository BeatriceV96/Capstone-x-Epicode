<div class="profile-container" *ngIf="user">
  <!-- Mostra i dati del profilo utente -->
  <h2>Profilo di {{ user.username }}</h2>

  <div class="profile-field">
    <strong>Email:</strong>
    <span>{{ user.email }}</span>
  </div>

  <div class="profile-field">
    <strong>Ruolo:</strong>
    <span>{{ user.role }}</span>
  </div>

  <div class="profile-field">
    <strong>Creato il:</strong>
    <span>{{ user.createDate | date:'medium' }}</span> <!-- Formattazione della data -->
  </div>

  <!-- Visualizzazione e modifica della biografia -->
  <div class="profile-field">
    <strong>Biografia:</strong>
    <div *ngIf="!isEditingBio">
      <p>{{ user.bio || 'Nessuna biografia disponibile.' }}</p>
      <button (click)="enableBioEdit()">Modifica Biografia</button>
    </div>

    <div *ngIf="isEditingBio">
      <textarea [(ngModel)]="updatedBio"></textarea>
      <button (click)="saveBio()">Salva</button>
      <button (click)="cancelBioEdit()">Annulla</button>
    </div>
  </div>

  <!-- Mostra l'immagine del profilo, se esiste -->
  <div class="profile-field">
    <strong>Immagine del profilo:</strong>
    <div *ngIf="user.profilePictureUrl">
      <img [src]="user.profilePictureUrl" alt="Immagine del profilo di {{ user.username }}" class="profile-picture"/>
    </div>
    <div *ngIf="!user.profilePictureUrl">
      <p>Nessuna immagine del profilo disponibile.</p>
    </div>
  </div>
</div>

<div *ngIf="!user">
  <p>Caricamento dati utente...</p>
</div>
